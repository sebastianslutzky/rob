
@using Blazor.Extensions.Logging
@using Microsoft.Extensions.Logging
      <ul class="nav navbar-nav @listClass">
            <li class="dropdown">
                <a tabindex="-1" class="dropdown-toggle" data-toggle="dropdown">
                 <span >Action</span>
                  <span class="caret"></span></a>
                <ul class="dropdown-menu scrollable-menu multi-level" role="menu">
                    <div>
                        @foreach (var accion in services)
                        {
                            <li>
                                <span>@accion.title</span>
                            </li>
                        }
                        </div>
                </ul>
            </li>
        </ul>
@code{
    [Inject]
    protected ILogger<MenuBar> logger{get;set;}

    [Parameter]
    public string listClass{get;set;}

    private IList<ExtendedResourceList> services {get;set;} = new List<ExtendedResourceList>();
    
    public void AddService(ExtendedResourceList link){
        logger.LogInformation("-- adding service --");
        services.Add(link);
        logger.LogDebug(services);
        StateHasChanged();
    }

    protected override void OnInitialized()
    {
        logger.LogInformation("------");
    }

}


